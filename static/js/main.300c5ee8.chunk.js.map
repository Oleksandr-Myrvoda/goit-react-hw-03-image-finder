{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","App.module.css","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","components/Searchbar/Searchbar.jsx","components/Button/Button.jsx","services/apiService.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","modalRoot","document","querySelector","Modal","hendleKeyDown","event","code","props","onClose","handleBackdropClick","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","className","styles","overlay","onClick","oodal","src","largeImage","alt","Component","protoTypes","largeImageURL","PropTypes","string","isRequired","ImageGalleryItem","smallImage","ImageGalleryItemImage","ImageGallery","hits","console","log","map","id","webformatURL","Spinner","loader","type","color","height","width","timeout","Searchbar","state","searchQuery","handleChange","setState","value","handleSubmit","preventDefault","onSubmit","SearchForm","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Button","currentPage","axios","get","then","response","data","App","isShowModal","isLoading","getDataApi","options","apiService","prevState","catch","error","finally","scrollTo","top","documentElement","scrollHeight","behavior","handleSearch","toggleModal","openModal","img","prevprops","shouldRenderLoadMoreButton","length","app","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.300c5ee8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2VUYy\",\"modal\":\"Modal_modal__qUZRj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3wxL3\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3wXxn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__10LK_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1w4tr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__SwU2M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1jb06\"};","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.hendleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.hendleKeyDown);\r\n  }\r\n\r\n  hendleKeyDown = (event) => {\r\n    if (event.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (event) => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={styles.overlay} onClick={this.handleBackdropClick}>\r\n        <img className={styles.oodal} src={this.props.largeImage} alt=\"\" />\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\nModal.protoTypes = {\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  alt: PropTypes.string,\r\n};\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ smallImage, largeImage, onClick, alt }) => {\r\n  return (\r\n    <li className={styles.ImageGalleryItem}>\r\n      <img onClick={() => onClick(largeImage)} src={smallImage} alt={alt} className={styles.ImageGalleryItemImage} />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  smallImage: PropTypes.string.isRequired,\r\n  largeImage: PropTypes.string.isRequired,\r\n  alt: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ hits, onClick }) => {\r\n  console.log(hits);\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {hits.map(({ id, webformatURL, largeImageURL }) => (\r\n        <ImageGalleryItem key={id} smallImage={webformatURL} largeImage={largeImageURL} onClick={onClick} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  hits: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    })\r\n  ).isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport styles from \"./Loader.module.css\";\r\n\r\nclass Spinner extends Component {\r\n  render() {\r\n    return (\r\n      <Loader className={styles.loader} type=\"ThreeDots\" color=\"#3f51b5\" height={120} width={120} timeout={3000} />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Spinner;\r\n","// Компонент принимает один проп onSubmit - функцию для передачи значения инпута при сабмите формы.\r\n// Создает DOM-элемент следующей структуры.\r\n\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchQuery: \"\",\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    this.setState({ searchQuery: event.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    this.props.onSubmit(this.state.searchQuery);\r\n    this.setState({ searchQuery: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.searchQuery}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import styles from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button type=\"button\" className={styles.Button} onClick={onClick}>\r\n      <span>Loade more</span>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import axios from \"axios\";\r\n\r\nconst BASE_URL = \"https://pixabay.com/api/\";\r\nconst API_KEY = \"20731872-71a610166f6b50a9cc8e22574\";\r\nconst perPage = 12;\r\n\r\nconst fetchHits = ({ searchQuery = \"\", currentPage = 1 }) => {\r\n  return axios\r\n    .get(\r\n      `${BASE_URL}?q=${searchQuery}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${perPage}`\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n\r\nexport default { fetchHits };\r\n","import React, { Component } from \"react\";\nimport Modal from \"./components/Modal\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Spinner from \"./components/Loader\";\nimport Searchbar from \"./components/Searchbar\";\nimport Button from \"./components/Button\";\nimport apiService from \"./services/apiService\";\n\nimport styles from \"./App.module.css\";\n\nclass App extends Component {\n  state = {\n    isShowModal: false,\n    hits: [],\n    currentPage: 1,\n    searchQuery: \"\",\n    largeImage: \"\",\n    isLoading: false,\n  };\n\n  componentDidUpdate(prevprops, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.getDataApi();\n    }\n  }\n\n  getDataApi = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { currentPage, searchQuery };\n\n    this.setState({ isLoading: true });\n\n    apiService\n      .fetchHits(options)\n      .then((hits) => {\n        this.setState((prevState) => ({\n          hits: [...prevState.hits, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      });\n  };\n\n  handleSearch = (searchQuery) => {\n    this.setState({\n      searchQuery: searchQuery,\n      currentPage: 1,\n      hits: [],\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ isShowModal }) => ({\n      isShowModal: !isShowModal,\n    }));\n  };\n\n  openModal = (img) => {\n    this.setState({ largeImage: img });\n    this.toggleModal();\n  };\n\n  render() {\n    const { isShowModal, isLoading, hits } = this.state;\n    const shouldRenderLoadMoreButton = hits.length > 0 && !isLoading;\n\n    return (\n      <div className={styles.app}>\n        <Searchbar onSubmit={this.handleSearch} />\n        {hits.length > 0 && <ImageGallery hits={hits} onClick={this.openModal} />}\n        {isLoading && <Spinner />}\n        {shouldRenderLoadMoreButton && <Button onClick={this.getDataApi} />}\n        {isShowModal && <Modal largeImage={this.state.largeImage} onClose={this.toggleModal} />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__h7lRo\",\"SearchForm\":\"Searchbar_SearchForm__3hfc8\",\"SearchFormButton\":\"Searchbar_SearchFormButton__9k06F\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3hXYW\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1rSK9\"};"],"sourceRoot":""}